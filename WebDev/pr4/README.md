# –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ4: SPA "–ö–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–æ–º"

–¶–µ –æ–¥–Ω–æ—Å—Ç–æ—Ä—ñ–Ω–∫–æ–≤–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ (SPA), —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π —É —Ä–∞–º–∫–∞—Ö 4-—ó –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ –∫—É—Ä—Å—É "–í–µ–±-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è".

**–¢–µ–º–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—É 1:** _–†–æ–∑—Ä–æ–±–∏—Ç–∏ –æ–¥–Ω–æ—Å—Ç–æ—Ä—ñ–Ω–∫–æ–≤–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–Ω–æ–º–Ω–∏–º —Ä–æ–±–æ—Ç–æ–º –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö._

## ü§ñ –û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É

–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Å–∏–º—É–ª—é—î –ø–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –≤—ñ–¥–¥–∞—á—ñ –∫–æ–º–∞–Ω–¥ –∞–≤—Ç–æ–Ω–æ–º–Ω–∏–º —Ä–æ–±–æ—Ç–∞–º. –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î:

- –û–±—Ä–∞—Ç–∏ –æ–¥–Ω–æ–≥–æ –∑ –∫—ñ–ª—å–∫–æ—Ö —Ä–æ–±–æ—Ç—ñ–≤ –∑—ñ —Å–ø–∏—Å–∫—É.
- –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –π–æ–≥–æ —Å—Ç–∞–Ω (`Idle`, `Moving`, `Charging`, `Stranded`), –∑–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ—ó —Ç–∞ –ø–æ—Ç–æ—á–Ω—É –ø–æ–∑–∏—Ü—ñ—é.
- –í—ñ–∑—É–∞–ª—å–Ω–æ –±–∞—á–∏—Ç–∏ —Ä–æ–±–æ—Ç–∞ —Ç–∞ –π–æ–≥–æ –±–∞–∑—É –Ω–∞ "—Ñ–∞–ª—å—à–∏–≤—ñ–π" –∫–∞—Ä—Ç—ñ.
- –í—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ —Ä–æ–±–æ—Ç–∞ –Ω–∞ –∑–∞–≤–¥–∞–Ω–Ω—è (—Ä—É—Ö —É –≤–∏–ø–∞–¥–∫–æ–≤—É —Ç–æ—á–∫—É) –∞–±–æ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –Ω–∞ –±–∞–∑—É.
- –ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –ø–æ–≤–Ω–∏–π –∂—É—Ä–Ω–∞–ª —É—Å—ñ—Ö –¥—ñ–π —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ —Ä–æ–±–æ—Ç—ñ–≤ –Ω–∞ –æ–∫—Ä–µ–º—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.

## üõ†Ô∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **React (v19)**: –û—Å–Ω–æ–≤–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ UI.
- **Vite**: –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–±—ñ—Ä–∫–∏, –æ–±—Ä–∞–Ω–∏–π –∑–∞–º—ñ—Å—Ç—å `create-react-app` —á–µ—Ä–µ–∑ –π–æ–≥–æ —à–≤–∏–¥–∫—ñ—Å—Ç—å —Ç–∞ —Å—É—á–∞—Å–Ω—ñ—Å—Ç—å.
- **react-router-dom**: –î–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –º—ñ–∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏ ("–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥" —Ç–∞ "–ñ—É—Ä–Ω–∞–ª –∑–∞–≤–¥–∞–Ω—å") –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.
- **JavaScript (ES6+)**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (`async/await`), `Promise`, `fetch`.
- **CSS**: –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏ CSS Grid –¥–ª—è –º–∞–∫–µ—Ç—É –¥–∞—à–±–æ—Ä–¥—É —Ç–∞ `transition` –¥–ª—è –ø–ª–∞–≤–Ω–æ—ó –∞–Ω—ñ–º–∞—Ü—ñ—ó —Ä—É—Ö—É —Ä–æ–±–æ—Ç—ñ–≤.

## ‚ú® –ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Å—Ç–∞–Ω**: –í—Å—è –ª–æ–≥—ñ–∫–∞ —Ç–∞ —Å—Ç–∞–Ω (–¥–∞–Ω—ñ –ø—Ä–æ —Ä–æ–±–æ—Ç—ñ–≤, –ª–æ–≥–∏, —Å—Ç–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è) –≤–∏–Ω–µ—Å–µ–Ω—ñ –≤ –≥–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `App.jsx`. –¶–µ —Ä–µ–∞–ª—ñ–∑—É—î –ø–∞—Ç–µ—Ä–Ω "–ü—ñ–¥–Ω—è—Ç—Ç—è —Å—Ç–∞–Ω—É" (Lifting State Up) —Ç–∞ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Å—Ç–∞–Ω –Ω–µ –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –º—ñ–∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏.
- **–Ü–º—ñ—Ç–∞—Ü—ñ—è API**:
  - –ü–æ—á–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `fetch` –∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª—É `public/robots.json`.
  - –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ (`sendRobotCommand`) —ñ–º—ñ—Ç—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `Promise` –∑ `setTimeout`, —â–æ–± —Å–∏–º—É–ª—é–≤–∞—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å —Å–µ—Ä–≤–µ—Ä–∞ —Ç–∞ –±–ª–æ–∫—É–≤–∞—Ç–∏ UI –Ω–∞ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
- **"–†–æ–∑—É–º–Ω–∞" –ª–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç—ñ–≤**:
  - **–í–∏—Ç—Ä–∞—Ç–∞ –±–∞—Ç–∞—Ä–µ—ó**: –†–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø—Ä–æ–π–¥–µ–Ω–æ—ó –≤—ñ–¥—Å—Ç–∞–Ω—ñ.
  - **–ê–≤—Ç–æ-–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è**: –†–æ–±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –Ω–∞ –±–∞–∑—É, —è–∫—â–æ –∑–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ—ó –ø–∞–¥–∞—î –Ω–∏–∂—á–µ 30% (`LOW_BATTERY_THRESHOLD`).
  - **–°—Ç–∞—Ç—É—Å "Stranded"**: –†–æ–±–æ—Ç –≤—ñ–∑—É–∞–ª—å–Ω–æ "–∑–∞—Å—Ç—Ä—è–≥–∞—î" (—Å—Ç–∞—Ç—É—Å —Å—Ç–∞—î —á–µ—Ä–≤–æ–Ω–∏–º), —è–∫—â–æ –∑–∞—Ä—è–¥ –ø–∞–¥–∞—î –¥–æ 0%, –∞ –≤—ñ–Ω –Ω–µ –Ω–∞ –±–∞–∑—ñ.
- **–î–∏–Ω–∞–º—ñ—á–Ω–∏–π UI**:
  - –ö–Ω–æ–ø–∫–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞—é—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏–º–∏ (`disabled`) –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ 4-—Ö –ø—Ä–∞–≤–∏–ª (—Ä–æ–±–æ—Ç –∑–∞–π–Ω—è—Ç–∏–π, –Ω–∞ –±–∞–∑—ñ, –Ω–∏–∑—å–∫–∏–π –∑–∞—Ä—è–¥, –¥–æ—Å—Ç–∞—Ç–Ω—ñ–π –∑–∞—Ä—è–¥).
  - –Ü–∫–æ–Ω–∫–∏ —Ä–æ–±–æ—Ç–∞ —Ç–∞ –±–∞–∑–∏ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –ø–æ–∑–∏—Ü—ñ–æ–Ω—É—é—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç—ñ —á–µ—Ä–µ–∑ CSS `position: absolute`, `top` —Ç–∞ `left`, —è–∫—ñ –±–µ—Ä—É—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑—ñ —Å—Ç–∞–Ω—É React.

## üöÄ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏

1.  –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ Node.js (v24.x+).
2.  –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –ø–∞–ø–∫–∏ –ø—Ä–æ—î–∫—Ç—É: `cd pr4`
3.  –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
    ```bash
    npm install
    ```
4.  –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏:
    ```bash
    npm run dev
    ```
5.  –í—ñ–¥–∫—Ä–∏–π—Ç–µ [http://localhost:5173/](https://www.google.com/search?q=http://localhost:5173/) —É –≤–∞—à–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ.
